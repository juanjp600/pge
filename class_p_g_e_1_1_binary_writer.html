<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>&#x202A;pulsegun engine: &#x202A;PGE::BinaryWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">&#x202A;pulsegun engine
   </div>
   <div id="projectbrief">&#x202A;it can render MANY POLYGON</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_p_g_e_1_1_binary_writer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_p_g_e_1_1_binary_writer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PGE::BinaryWriter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>&#x202A;Utility to write binary data to a file.  
 <a href="class_p_g_e_1_1_binary_writer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_binary_writer_8h_source.html">PGE/File/BinaryWriter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PGE::BinaryWriter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_p_g_e_1_1_binary_writer.png" usemap="#PGE::BinaryWriter_map" alt=""/>
  <map id="PGE::BinaryWriter_map" name="PGE::BinaryWriter_map">
<area href="class_p_g_e_1_1_abstract_i_o.html" alt="PGE::AbstractIO&lt; std::ofstream &gt;" shape="rect" coords="0,0,197,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6f5a741aae9e62973ba147592051cd7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_g_e_1_1_binary_writer.html#a6f5a741aae9e62973ba147592051cd7e">BinaryWriter</a> (const <a class="el" href="class_p_g_e_1_1_file_path.html">FilePath</a> &amp;file, bool append=false)</td></tr>
<tr class="memdesc:a6f5a741aae9e62973ba147592051cd7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Opens the stream.  <a href="class_p_g_e_1_1_binary_writer.html#a6f5a741aae9e62973ba147592051cd7e">More...</a><br /></td></tr>
<tr class="separator:a6f5a741aae9e62973ba147592051cd7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39225d800a657a49ab2bb117c9af11ce"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a39225d800a657a49ab2bb117c9af11ce"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_p_g_e_1_1_binary_writer.html#a39225d800a657a49ab2bb117c9af11ce">write</a> (const T &amp;val)</td></tr>
<tr class="memdesc:a39225d800a657a49ab2bb117c9af11ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Writes a type T to file.  <a href="class_p_g_e_1_1_binary_writer.html#a39225d800a657a49ab2bb117c9af11ce">More...</a><br /></td></tr>
<tr class="separator:a39225d800a657a49ab2bb117c9af11ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8967933c724289554f82538a95ea3ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_g_e_1_1_binary_writer.html#ad8967933c724289554f82538a95ea3ac">writeBytes</a> (const byte *data, size_t amount)</td></tr>
<tr class="memdesc:ad8967933c724289554f82538a95ea3ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Writes the given bytes to file.  <a href="class_p_g_e_1_1_binary_writer.html#ad8967933c724289554f82538a95ea3ac">More...</a><br /></td></tr>
<tr class="separator:ad8967933c724289554f82538a95ea3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af252120aa787246f2c0f2df43dce0e4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_g_e_1_1_binary_writer.html#af252120aa787246f2c0f2df43dce0e4d">earlyClose</a> ()</td></tr>
<tr class="memdesc:af252120aa787246f2c0f2df43dce0e4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">&#x202A;Closes the stream prematurely.  <a href="class_p_g_e_1_1_binary_writer.html#af252120aa787246f2c0f2df43dce0e4d">More...</a><br /></td></tr>
<tr class="separator:af252120aa787246f2c0f2df43dce0e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="DocNodeLTR">Utility to write binary data to a file. </p>
<p class="DocNodeLTR">In order to expand the capabilities of <a class="el" href="class_p_g_e_1_1_binary_writer.html" title="&#x202A;Utility to write binary data to a file.">BinaryWriter</a> the generic write method can be partially specialized with the type(s) you wish to support. It's recommended to closely adhere to the specification and do things as they're done in the library. You have access to a <code>stream</code> member, to which all your data is to be written. After writing has concluded it is recommended to call the protected <code>validate</code> method in order to do proper error handling. Specializations for other types can utilize preexisting specializations (e.g. a <a class="el" href="class_p_g_e_1_1_vector2f.html">Vector2f</a> is written by calling <code>write&lt;float&gt;</code> twice).<br  />
It is recommended to also provide a specialization for reading, if one is provided for writing.<br  />
Variation of functionality of existing types can be achieved by providing a thin wrapper around the object you wish to handle differently.</p>
<p class="DocNodeLTR">Example: </p><div class="fragment"><div class="line"><span class="keyword">struct </span>FixedLengthString { <span class="keyword">const</span> String&amp; str; };</div>
<div class="line"><span class="keyword">template</span>&lt;&gt; <span class="keywordtype">void</span> BinaryWriter::write&lt;FixedLengthString&gt;(<span class="keyword">const</span> FixedLengthString&amp; val) {</div>
<div class="line">    <span class="comment">// Regular String writer uses byteLength() + 1 to include the terminating null byte.</span></div>
<div class="line">    stream.write(val.str.cstr(), val.str.byteLength());</div>
<div class="line">    validate();</div>
<div class="line">}</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line">myBinaryWriter.write&lt;FixedLengthString&gt;({ <span class="stringliteral">&quot;asd&quot;</span> });</div>
</div><!-- fragment --> <dl class="section see DocNodeLTR"><dt>See also</dt><dd>&#x202A;<a class="el" href="class_p_g_e_1_1_binary_reader.html" title="&#x202A;Utility to read binary data from a file.">PGE::BinaryReader</a> </dd>
<dd>
&#x202A;<a class="el" href="class_p_g_e_1_1_text_writer.html" title="&#x202A;Utility to write text to a file.">PGE::TextWriter</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6f5a741aae9e62973ba147592051cd7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f5a741aae9e62973ba147592051cd7e">&#9670;&nbsp;</a></span>BinaryWriter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PGE::BinaryWriter::BinaryWriter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_p_g_e_1_1_file_path.html">FilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>append</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Opens the stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>&#x202A;The file to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">append</td><td>&#x202A;Whether data should be appended to the file or it should be overwritten. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_p_g_e_1_1_exception.html" title="&#x202A;Singular exception class thrown by PGE.">PGE::Exception</a></td><td>&#x202A;if the path is invalid or the file could not be opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af252120aa787246f2c0f2df43dce0e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af252120aa787246f2c0f2df43dce0e4d">&#9670;&nbsp;</a></span>earlyClose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_p_g_e_1_1_abstract_i_o.html">PGE::AbstractIO</a>&lt; T &gt;::earlyClose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&#x202A;Closes the stream prematurely. </p>
<p class="DocNodeLTR">Calling this is <em>not</em> necessary, the destructor will clean everything up appropriately. However, possible failure of the close operation will be swallowed in the destructor, while it will be thrown here.</p>
<p class="DocNodeLTR">Calling <em>any</em> further methods after attempting to close (including attempting to close again) will have no ill effects, but will cause an exception to be raised every call. </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_p_g_e_1_1_exception.html" title="&#x202A;Singular exception class thrown by PGE.">PGE::Exception</a></td><td>&#x202A;if closing was not wholly successful. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a39225d800a657a49ab2bb117c9af11ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39225d800a657a49ab2bb117c9af11ce">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void PGE::BinaryWriter::write </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Writes a type T to file. </p>
<p class="DocNodeLTR">By default the following types are supported:</p><ul class="DocNodeLTR">
<li>&#x202A;Self explanatory: u8, u16, u32, u64, i8, i16, i32, i64, float</li>
<li>&#x202A;char16: 1-4 bytes represented as a single UTF-8 character.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_string.html" title="&#x202A;A UTF-8 character sequence guaranteed to be terminated by a null byte.">String</a>: A null terminated <a class="el" href="class_p_g_e_1_1_string.html" title="&#x202A;A UTF-8 character sequence guaranteed to be terminated by a null byte.">String</a> of UTF-8 characters.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_vector2f.html">Vector2f</a>: Floats in order x, y.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_vector3f.html">Vector3f</a>: Floats in order x, y, z.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_vector4f.html">Vector4f</a>: Floats in order x, y, z, w.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_vector2i.html">Vector2i</a>: 32-bit ints in order x, y.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_matrix4x4f.html" title="&#x202A;Row-major 4x4 matrix.">Matrix4x4f</a>: All elements as floats, same order as matrix itself.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_a_a_b_box.html">AABBox</a>: The minimum and maximum Vector3fs.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_line2f.html">Line2f</a>: <a class="el" href="class_p_g_e_1_1_vector2f.html">Vector2f</a> in order pointA, pointB.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_line2i.html">Line2i</a>: <a class="el" href="class_p_g_e_1_1_vector2i.html">Vector2i</a> in order pointA, pointB.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_plane.html">Plane</a>: Normal vector as <a class="el" href="class_p_g_e_1_1_vector3f.html">Vector3f</a>, distance to origin as float.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_rectanglef.html">Rectanglef</a>: Top left corner as <a class="el" href="class_p_g_e_1_1_vector2f.html">Vector2f</a>, bottom right corner as <a class="el" href="class_p_g_e_1_1_vector2f.html">Vector2f</a>.</li>
<li>&#x202A;<a class="el" href="class_p_g_e_1_1_rectanglei.html">Rectanglei</a>: Top left corner as <a class="el" href="class_p_g_e_1_1_vector2i.html">Vector2i</a>, bottom right corner as <a class="el" href="class_p_g_e_1_1_vector2i.html">Vector2i</a>. <dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_p_g_e_1_1_exception.html" title="&#x202A;Singular exception class thrown by PGE.">Exception</a></td><td>&#x202A;If any kind of error occurs, this will cause the stream to be closed. In such a case, nothing is guaranteed to be written. </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a id="ad8967933c724289554f82538a95ea3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8967933c724289554f82538a95ea3ac">&#9670;&nbsp;</a></span>writeBytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PGE::BinaryWriter::writeBytes </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>&#x202A;Writes the given bytes to file. </p>
<p class="DocNodeLTR">Adheres to the <a class="el" href="class_p_g_e_1_1_binary_writer.html#a39225d800a657a49ab2bb117c9af11ce" title="&#x202A;Writes a type T to file.">write</a> specification.</p>
<p class="DocNodeLTR">In order to be read again, the amount of bytes must be known, so it should either be constant, or stored along with the byte data manually. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>&#x202A;PGE</b></li><li class="navelem"><a class="el" href="class_p_g_e_1_1_binary_writer.html">&#x202A;BinaryWriter</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
